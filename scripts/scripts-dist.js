function initExpanders(){navExpanders.services.init(),navExpanders.nights.init(),navExpanders.reply.init()}function initSliders(){for(var e=100,n=$(".slider").length,i=0;n>i;i++){sliders[i]={num:$("#slider"+i).find(".slide").length,current:0};for(var s=0;s<=sliders[i].num;s++)$("#slider"+i).find(".slide").eq(s).css({left:e*s+"%"}),$("#slider"+i).find(".slides-num").html(sliders[i].num)}}function updateSlider(e,n){var i=n?sliders[e].current+1:sliders[e].current-1;n?sliders[e].current+1>=sliders[e].num&&(i=0):sliders[e].current-1<0&&(i=sliders[e].num-1),sliders[e].current=i,$("#slider"+e).find(".current-slide").html(i+1),left=-(100*i),$("#slider"+e).find(".slides").css({left:left+"%"})}var expanderHideDelay=400,expanderHideTimeout,sliders=[],navExpanders={services:{coords:{x:0,y:0},init:function(){var e=($("nav").width(),$(".services-link").offset().left+$(".services-link").outerWidth()/2),n=$(".services-link").get(0).getBoundingClientRect().top+$(".services-link").outerHeight()-12,i=e-$(".services-expander").outerWidth()/2;navExpanders.services.coords.x=i,navExpanders.services.coords.y=n},show:function(){navExpanders.services.init(),clearInterval(expanderHideTimeout),$(".global-overlay").addClass("open"),$(".services-expander").css({left:navExpanders.services.coords.x+"px",top:navExpanders.services.coords.y+"px"}),$(".services-expander").addClass("open")},hide:function(){expanderHideTimeout=setTimeout(function(){$(".global-overlay").removeClass("open"),$(".services-expander").removeClass("open"),expanderHideTimeout=setTimeout(function(){$(".services-expander").css({left:"-100%"})},expanderHideDelay)},expanderHideDelay)}},nights:{visible:!1,coords:{x:0,y:0},init:function(){$(".nights-expander").css({width:$(".nights").width()+"px"}),navExpanders.nights.coords.x=$(".nights").offset().left,navExpanders.nights.coords.y=$(".nights").get(0).getBoundingClientRect().top+$(".nights").outerHeight()-10},click:function(){$(this).parent().find(".chosen").removeClass("chosen"),$(this).find("span").addClass("chosen"),$(".nights .nights-output").html($(this).find("span").html()),navExpanders.nights.hide()},show:function(){navExpanders.reply.hide(),clearInterval(expanderHideTimeout),navExpanders.nights.visible=!0,$(".nights-expander").css({left:navExpanders.nights.coords.x+"px",top:navExpanders.nights.coords.y+"px"}),$(".nights-expander").addClass("open"),$("html").click(function(){navExpanders.nights.hide()})},hide:function(){$("html").unbind("click"),navExpanders.nights.visible=!1,$(".nights-expander").removeClass("open"),expanderHideTimeout=setTimeout(function(){$(".nights-expander").css({left:"-100%"})},expanderHideDelay)},toggle:function(){navExpanders.nights.visible?navExpanders.nights.hide():navExpanders.nights.show()}},reply:{coords:{x:0,y:0},init:function(){var e=$("nav").width(),n=($(".nights").offset().left+$(".nights").width(),$(".arrival-date").offset().left,1.5*$(".book-wrap").outerWidth()),i=$(".arrival-date").offset().left;$(".reply-expander").css({width:n+"px"});var s=$(".book-wrap").offset().left+$(".book-wrap").outerWidth()/2,t=s-n/2;e>t+n&&(i=t),navExpanders.reply.coords.x=i,navExpanders.reply.coords.y=$(".book-wrap").get(0).getBoundingClientRect().top+$(".nights").outerHeight()-10},show:function(){clearInterval(expanderHideTimeout),navExpanders.nights.hide(),$(".reply-expander").addClass("open"),$(".reply-expander").css({left:navExpanders.reply.coords.x+"px",top:navExpanders.reply.coords.y+"px"}),$("html").click(function(){navExpanders.reply.hide(!1)})},hide:function(){$("html").unbind("click"),$(".reply-expander").removeClass("open"),expanderHideTimeout=setTimeout(function(){$(".reply-expander").css({left:"-100%"})},expanderHideDelay)}}};$(document).ready(function(){initExpanders(),initSliders(),$(window).resize(function(){initExpanders(),$("html").click()}),$(".toggle-button-wrap").click(function(){$(this).find(".toggle-button").toggleClass("open"),$("nav .middle-bar").toggleClass("open")}),$(".nights, .nights-expander, .book-wrap, .reply-expander").click(function(){event.stopPropagation()}),$(".services-link").hover(navExpanders.services.show,navExpanders.services.hide),$(".services-expander").hover(function(){clearInterval(expanderHideTimeout)},function(){navExpanders.services.hide(!0)}),$(".nights").click(navExpanders.nights.toggle),$(".nights-expander li").click(navExpanders.nights.click),$(".book-wrap").click(navExpanders.reply.show),$(window).outerWidth()>=1170&&$("#footer-up").click(function(){var e=$(".main-footer").outerHeight()+75;$("html, body").animate({scrollTop:$(document).height()},expanderHideDelay),$("footer").hasClass("open")?$("footer").removeAttr("style"):$("footer").css({height:e+"px"}),$("footer").toggleClass("open")}),$(".slider").each(function(e){$("#slider"+e+"-prev").click(function(){updateSlider(e,!1)}),$("#slider"+e+"-next").click(function(){updateSlider(e,!0)})}),$(".arrival-date").pickmeup({position:"bottom",hide_on_select:!0,prev:"",next:"",change:function(){$(".arrival-date-output").html($(".arrival-date").pickmeup("get_date","d/m/Y"))},fill:function(){$(".arrival-date-output").html($(".arrival-date").pickmeup("get_date","d/m/Y"))},show:function(){$(".pickmeup").css({display:"block"}),$(".arrival-date .arrow-up").addClass("open"),navExpanders.nights.hide(),navExpanders.reply.hide()},hide:function(){$(".arrival-date .arrow-up").removeClass("open"),setTimeout(function(){$(".pickmeup").css({display:"none"})},expanderHideDelay)}})});
